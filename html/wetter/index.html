<html>
<head>
		<title>Wetter in Schönow</title>
		<link rel="stylesheet" type="text/css" href="../css/pool-style.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<link rel="shortcut icon" href="../img/weather.png" type="image/ico" />
		<link rel="icon" href="../img/weather.png" type="image/ico" />
		<script src="../public/jquery-2.1.3.min.js"></script> 


		<link rel="stylesheet" type="text/css" href="../css/pool-style.css" />


<body topmargin=0 leftmargin=0 onLoad="getWeather();" bgcolor=#333333><center>
			<center>
            <div class="thermometers">
				<div class="label"><strong>WETTERVORHERSAGE</strong></div>
				<div class="label"><strong>10 Tage</strong></div>
				<div style="width:16px;height:8px"></div><br>

				<div class="wetter" >
					<table id=weatherdailytable class="wettertabelle"  cellpadding=0 cellspacing=0 width="100%">
						<tr>
							<td id=location0d style="text-align:left;min-width:180px;max-width:220px">Stadt</td>
							<td id=fcd00 colspan=2></td>
							<td id=fcd10 colspan=2></td>
							<td id=fcd20 colspan=2></td>
							<td id=fcd30 colspan=2></td>
							<td id=fcd40 colspan=2></td>
							<td id=fcd50 colspan=2></td>
							<td id=fcd60 colspan=2></td>
							<td id=fcd70 colspan=2></td>
						</tr>
						<tr class="wettertabelleIcon">
							<td id=location1d style="color:#cccccc;" onclick="showweather();">&nbsp;7-Tage</td>
							<td id=fcd01></td><td id=fcd11></td>
							<td id=fcd21></td><td id=fcd31></td>
							<td id=fcd41></td><td id=fcd51></td>
							<td id=fcd61></td><td id=fcd71></td>
							<td id=fcd81></td><td id=fcd91></td>
							<td id=fcd101></td><td id=fcd111></td>
							<td id=fcd121></td><td id=fcd131></td>
							<td id=fcd141></td><td id=fcd151></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location2d style="text-align:left;">&nbsp;<strong>Temperatur (°C) </strong></td>
							<td id=fcd02></td> <td id=fcd12></td>
							<td id=fcd22></td> <td id=fcd32></td>
							<td id=fcd42></td> <td id=fcd52></td>
							<td id=fcd62></td> <td id=fcd72></td>
							<td id=fcd82></td> <td id=fcd92></td>
							<td id=fcd102></td><td id=fcd112></td>
							<td id=fcd122></td><td id=fcd132></td>
							<td id=fcd142></td><td id=fcd152></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location4d style="text-align:left;">&nbsp;<b>Regenrisiko (%) </b></td>
							<td id=fcd04></td> <td id=fcd14></td>
							<td id=fcd24></td> <td id=fcd34></td>
							<td id=fcd44></td> <td id=fcd54></td>
							<td id=fcd64></td> <td id=fcd74></td>
							<td id=fcd84></td> <td id=fcd94></td>
							<td id=fcd104></td><td id=fcd114></td>
							<td id=fcd124></td><td id=fcd134></td>
							<td id=fcd144></td><td id=fcd154></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location5d style="text-align:left;">&nbsp;<b>Regenmenge (mm) </b></td>
							<td id=fcd05></td> <td id=fcd15></td>
							<td id=fcd25></td> <td id=fcd35></td>
							<td id=fcd45></td> <td id=fcd55></td>
							<td id=fcd65></td> <td id=fcd75></td>
							<td id=fcd85></td> <td id=fcd95></td>
							<td id=fcd105></td><td id=fcd115></td>
							<td id=fcd125></td><td id=fcd135></td>
							<td id=fcd145></td><td id=fcd155></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location3d style="text-align:left;">&nbsp;<b>Luftfeuchte (%) </b></td>
							<td id=fcd03></td> <td id=fcd13></td>
							<td id=fcd23></td> <td id=fcd33></td>
							<td id=fcd43></td> <td id=fcd53></td>
							<td id=fcd63></td> <td id=fcd73></td>
							<td id=fcd83></td> <td id=fcd93></td>
							<td id=fcd103></td><td id=fcd113></td>
							<td id=fcd123></td><td id=fcd133></td>
							<td id=fcd143></td><td id=fcd153></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location6d style="text-align:left;">&nbsp;<b>Wind (km/h) </b></td>
							<td id=fcd06 colspan=2></td> 
							<td id=fcd26 colspan=2></td> 
							<td id=fcd46 colspan=2></td> 
							<td id=fcd66 colspan=2></td> 
							<td id=fcd86 colspan=2></td> 
							<td id=fcd106 colspan=2></td>
							<td id=fcd126 colspan=2></td>
							<td id=fcd146 colspan=2></td>
						</tr>
					</table><!--daily ende-->
					<div class="label"><strong>Stündlich</strong></div>
					<!-- TABELLE FÜR HOURLY-FORECAST-->
					<table id=weatherhourlytable class="wettertabelle"  cellpadding=0 cellspacing=0 width="100%">
						<tr class="wettertabelleStadt">
							<td id=location0 style="text-align:left;min-width:180px;max-width:220px">Stadt</td>
							<td id=fcNow0></td><td id=fc00></td>
							<td id=fc10></td><td id=fc20></td>
							<td id=fc30></td><td id=fc40></td>
							<td id=fc50></td><td id=fc60></td>
							<td id=fc70></td><td id=fc80></td>
							<td id=fc90></td><td id=fc100></td>
							<td id=fc110></td><td id=fc120></td>
							<td id=fc130></td><td id=fc140></td>
						</tr>
						<tr class="wettertabelleIcon">
							<td id=location1 style="color:#cccccc;" onclick="showweather();">&nbsp;Stündlich</td>
							<td id=fcNow1></td><td class=border id=fc01></td>
							<td id=fc11></td><td id=fc21></td>
							<td id=fc31></td><td id=fc41></td>
							<td id=fc51></td><td id=fc61></td>
							<td id=fc71></td><td id=fc81></td>
							<td id=fc91></td><td id=fc101></td>
							<td id=fc111></td><td id=fc121></td>
							<td id=fc131></td><td id=fc141></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location2 style="text-align:left;">&nbsp;<strong>Temperatur (°C)</td>
							<td id=fcNow2></td><td id=fc02></td>
							<td id=fc12></td><td id=fc22></td>
							<td id=fc32></td><td id=fc42></td>
							<td id=fc52></td><td id=fc62></td>
							<td id=fc72></td><td id=fc82></td>
							<td id=fc92></td><td id=fc102></td>
							<td id=fc112></td><td id=fc122></td>
							<td id=fc132></td><td id=fc142></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location4 style="text-align:left;">&nbsp;<b>Regenrisiko (%)</td>
							<td id=fcNow4></td><td id=fc04></td>
							<td id=fc14></td><td id=fc24></td>
							<td id=fc34></td><td id=fc44></td>
							<td id=fc54></td><td id=fc64></td>
							<td id=fc74></td><td id=fc84></td>
							<td id=fc94></td><td id=fc104></td>
							<td id=fc114></td><td id=fc124></td>
							<td id=fc134></td><td id=fc144></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location6 style="text-align:left;">&nbsp;<b>Niederschlagsmenge (mm) </td>
							<td id=fcNow6></td><td id=fc06></td>
							<td id=fc16></td>
							<td id=fc26></td> <td id=fc36></td>
							<td id=fc46></td> <td id=fc56></td>
							<td id=fc66></td> <td id=fc76></td>
							<td id=fc86></td> <td id=fc96></td>
							<td id=fc106></td><td id=fc116></td>
							<td id=fc126></td><td id=fc136></td>
							<td id=fc146></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location3 style="text-align:left;">&nbsp;<b>Luftfeuchte (%)</td>
							<td id=fcNow3></td><td id=fc03></td>
							<td id=fc13></td><td id=fc23></td>
							<td id=fc33></td><td id=fc43></td>
							<td id=fc53></td><td id=fc63></td>
							<td id=fc73></td><td id=fc83></td>
							<td id=fc93></td><td id=fc103></td>
							<td id=fc113></td><td id=fc123></td>
							<td id=fc133></td><td id=fc143></td>
						</tr>
						<tr class="wettertabelleWerte">
							<td id=location5 style="text-align:left;">&nbsp;<b>Wind (km/h)</td>
							<td id=fcNow5></td><td id=fc05></td>
							<td id=fc15></td><td id=fc25></td>
							<td id=fc35></td><td id=fc45></td>
							<td id=fc55></td><td id=fc65></td>
							<td id=fc75></td><td id=fc85></td>
							<td id=fc95></td><td id=fc105></td>
							<td id=fc115></td><td id=fc125></td>
							<td id=fc135></td><td id=fc145></td>
						</tr>
						</table>
						<!--HOURLY-FORECAST-->
	
						<script>
							function showweather()
							{
							   if (document.getElementById("weatherdailytable").style.display == "block")
								{
								 document.getElementById("weatherhourlytable").style.display = "block";
								 document.getElementById("weatherdailytable").style.display  = "none";
								}
							
							   else
								{
								 document.getElementById("weatherhourlytable").style.display = "none";
								 document.getElementById("weatherdailytable").style.display  = "block";
								}
							}

							function getWeather() {
							  jQuery(document).ready(function($) {
							  $.ajax({
							  //url : 'http://api.wunderground.com/api/1e1dc5e9f65d3cea/geolookup/conditions/hourly/forecast/forecast10day/lang:DL/q/Germany/Bernau bei Berlin.json',
							  url : '//api.wunderground.com/api/1e1dc5e9f65d3cea/geolookup/conditions/hourly/forecast/forecast10day/lang:DL/q/Germany/Bernau bei Berlin.json',
							  dataType : "jsonp",
							  success : function(parsed_json) {
								/* Hourly forecast */
								for(i=0;i<15;i++) {
								 var hourtime    =  parsed_json['hourly_forecast'][''+i+'']['FCTTIME']['hour'];
								     hourtime    = parseInt(hourtime);
								 var hourtemp    =  parsed_json['hourly_forecast'][''+i+'']['temp']['metric'];
								 var hourhumi    =  parsed_json['hourly_forecast'][''+i+'']['humidity'];
								 var hourrain    =  parsed_json['hourly_forecast'][''+i+'']['qpf']['metric'];
								 if( isNaN(hourrain)) {hourrain = "0";}
									 var hourpop    =  parsed_json['hourly_forecast'][''+i+'']['pop'];
									 //das Image
									 var hourimg     =  parsed_json['hourly_forecast'][''+i+'']['icon'];
									 //das Image für Nacht
									 if((hourtime > 20) || (hourtime < 7)) { hourimg = 'nt_'+hourimg;}
									 if(i==0) {checkhour = hourtime;}
									 var hourwind    =  parsed_json['hourly_forecast'][''+i+'']['wspd']['metric'];
									 if( isNaN(hourwind)) {hourwind = "0";}
									 document.getElementById("fc"+i+"0").innerHTML = '<center>'+hourtime+':00';
									 document.getElementById("fc"+i+"1").innerHTML = "<div class='imgWrap'><img src='../img/wetter/"+hourimg+".png' class='iconwetter'/></div>";
									 document.getElementById("fc"+i+"2").innerHTML = '<center><span style="font-size:13px;font-weight:bold;">'+hourtemp+'°</span>';
									 document.getElementById("fc"+i+"3").innerHTML = '<center>'+hourhumi+'';
									 document.getElementById("fc"+i+"4").innerHTML = '<center>'+hourpop+'';
									 document.getElementById("fc"+i+"5").innerHTML = '<center>'+hourwind+'';
									 document.getElementById("fc"+i+"6").innerHTML = '<center>'+hourrain+'';
								}
							/* Aktuelle Daten */
							  var location = parsed_json['location']['city'];
							  if(location.length > 25) { 
											shortlocation = location.slice(0,22);
											shortlocation = shortlocation+'...';
										   }
							  else { shortlocation = location;} 
							
							  var temp_c   = parsed_json['current_observation']['temp_c'];
							  var icon     = parsed_json['current_observation']['icon'];
							  if((checkhour > 20) || (checkhour < 7)) { icon = 'nt_'+icon;}
							
							  var time     = parsed_json['current_observation']['local_time_rfc822'];
							  var humidity = parsed_json['current_observation']['relative_humidity'];
							      humidity = humidity.replace(/\%/g,"");
							  var wind     = parsed_json['current_observation']['wind_kph'];
							  var rain     = parsed_json['current_observation']['precip_today_metric'];
							  var rain     = "-";
							
							  var nowpressure = parsed_json['current_observation']['preassure_mb'];
							  var nowdewpoint = parsed_json['current_observation']['dewpoint_c'];
							  var nowfeelslike= parsed_json['current_observation']['feelslike_c'];
							  var nowwinddir  = parsed_json['current_observation']['wind_dir'];
							  var nowpop      = "-";
							
							 document.getElementById("location0").innerHTML = '&nbsp'+shortlocation;
							 document.getElementById("location0d").innerHTML = '&nbsp'+shortlocation;
							 document.getElementById("fcNow0").innerHTML  = "<center>Jetzt";
							 document.getElementById("fcNow1").innerHTML = "<div class='imgWrap'><img src='../img/wetter/"+icon+".png' class='iconwetter'/></div>";
							 document.getElementById("fcNow2").innerHTML = '<center><span style="font-size:13px;font-weight:bold;">'+temp_c+'°</span><br>';
							 document.getElementById("fcNow3").innerHTML = '<center>'+humidity+'';
							 document.getElementById("fcNow4").innerHTML = '<center>'+rain+'';
							 document.getElementById("fcNow5").innerHTML = '<center>'+wind+'';
							 document.getElementById("fcNow6").innerHTML = '<center>'+nowpop+'';
							
							
										/* 7-Day forecast */
										for(k=0;k<15;k++) {
										 if(k%2 == 0) 	{
												 var dayimg    =  parsed_json['forecast']['txt_forecast']['forecastday'][''+k+'']['icon'];
												 var nightimg  =  parsed_json['forecast']['txt_forecast']['forecastday'][''+(k+1)+'']['icon'];
												 var wettertext = parsed_json['forecast']['txt_forecast']['forecastday'][''+(k+1)+'']['fcttext_metric'];
									 
												 document.getElementById("fcd"+k+"1").innerHTML     = "<div class='imgWrap'><img src='../img/wetter/"+dayimg+".png' class='iconwetter'/><p class='imgDescription'>"+wettertext+"</p></div>";
												 document.getElementById("fcd"+(k+1)+"1").innerHTML = "<div class='imgWrap'><img src='../img/wetter/"+nightimg+".png' class='iconwetter'/><p class='imgDescription'>"+wettertext+"</p></div>";
												}
										}
							
							tempfield = 0;
							humifield = 0;
							windfield = 0;
							rainfield = 0;
							popfield = 0;
							
							for(i=0;i<8;i++) {
								var dateday   =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['date']['day'];
								var datemonth =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['date']['month'];
								var datename  =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['date']['weekday_short'];
								document.getElementById("fcd"+i+"0").innerHTML = '<center>'+datename+', '+dateday+'.'+datemonth+'.';
							
								var daytemp   =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['high']['celsius'];
								var nighttemp =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['low']['celsius'];
								document.getElementById("fcd"+tempfield+"2").innerHTML = '<center><span style="font-size:13px;font-weight:bold;">'+daytemp+'°</span><br>'; tempfield++;
								document.getElementById("fcd"+tempfield+"2").innerHTML = '<center><span style="font-size:13px;font-weight:bold;">'+nighttemp+'°</span><br>'; tempfield++;
							
								var dayhumi   =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['minhumidity']; 
								var nighthumi =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['maxhumidity'];
								document.getElementById("fcd"+humifield+"3").innerHTML = '<center>'+dayhumi+'</span><br>';humifield++;
								document.getElementById("fcd"+humifield+"3").innerHTML = '<center>'+nighthumi+'</span><br>';humifield++;
							
							
								var dayrain   =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['qpf_day']['mm'];
								var nightrain =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['qpf_night']['mm'];
								if( isNaN(dayrain))   {dayrain = "0.0";}
								if( isNaN(nightrain)) {nightrain = "0.0";}
								document.getElementById("fcd"+rainfield+"5").innerHTML = '<center>'+dayrain+'</span><br>';rainfield++;
								document.getElementById("fcd"+rainfield+"5").innerHTML = '<center>'+nightrain+'</span><br>';rainfield++;
							
							
								var daypop    =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['pop'];
								document.getElementById("fcd"+popfield+"4").innerHTML = '<center>'+daypop+'</span><br>';popfield++;
								document.getElementById("fcd"+popfield+"4").innerHTML = '<center>'+daypop+'</span><br>';popfield++;
							
								var daywind   =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['avewind']['kph'];
								var nightwind =  parsed_json['forecast']['simpleforecast']['forecastday'][''+i+'']['avewind']['kph'];
								if( isNaN(daywind))   {daywind = "0";}
								if( isNaN(nightwind)) {nightwind = "0";}
								document.getElementById("fcd"+windfield+"6").innerHTML = '<center>'+daywind+'</span><br>';windfield++;windfield++;
								document.getElementById("fcd"+i+"0").innerHTML = '<center>'+datename+', '+dateday+'.'+datemonth+'.';
							}
							
							    }
							  });
							 });
							}

</script>
</div>
</div>
</center>
</body>
</html>